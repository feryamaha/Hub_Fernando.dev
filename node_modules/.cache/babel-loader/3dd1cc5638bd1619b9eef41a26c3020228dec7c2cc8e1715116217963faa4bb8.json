{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{motion}from\"framer-motion\";import\"./TrueFocus.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrueFocus=_ref=>{let{sentence=\"True Focus\",manualMode=false,blurAmount=5,borderColor=\"green\",glowColor=\"rgba(0, 255, 0, 0.6)\",animationDuration=0.5,pauseBetweenAnimations=1}=_ref;const words=sentence.split(\" \");const[currentIndex,setCurrentIndex]=useState(0);const[lastActiveIndex,setLastActiveIndex]=useState(null);const containerRef=useRef(null);const wordRefs=useRef([]);const[focusRect,setFocusRect]=useState({x:0,y:0,width:0,height:0});useEffect(()=>{if(!manualMode){const interval=setInterval(()=>{setCurrentIndex(prev=>(prev+1)%words.length);},(animationDuration+pauseBetweenAnimations)*1000);return()=>clearInterval(interval);}},[manualMode,animationDuration,pauseBetweenAnimations,words.length]);useEffect(()=>{if(currentIndex===null||currentIndex===-1)return;if(!wordRefs.current[currentIndex]||!containerRef.current)return;const parentRect=containerRef.current.getBoundingClientRect();const activeRect=wordRefs.current[currentIndex].getBoundingClientRect();setFocusRect({x:activeRect.left-parentRect.left,y:activeRect.top-parentRect.top,width:activeRect.width,height:activeRect.height});},[currentIndex,words.length]);const handleMouseEnter=index=>{if(manualMode){setLastActiveIndex(index);setCurrentIndex(index);}};const handleMouseLeave=()=>{if(manualMode){setCurrentIndex(lastActiveIndex);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"focus-container\",ref:containerRef,children:[words.map((word,index)=>{const isActive=index===currentIndex;return/*#__PURE__*/_jsx(\"span\",{ref:el=>wordRefs.current[index]=el,className:`focus-word ${manualMode?\"manual\":\"\"} ${isActive&&!manualMode?\"active\":\"\"}`,style:{filter:manualMode?isActive?`blur(0px)`:`blur(${blurAmount}px)`:isActive?`blur(0px)`:`blur(${blurAmount}px)`,\"--border-color\":borderColor,\"--glow-color\":glowColor,transition:`filter ${animationDuration}s ease`},onMouseEnter:()=>handleMouseEnter(index),onMouseLeave:handleMouseLeave,children:word},index);}),/*#__PURE__*/_jsxs(motion.div,{className:\"focus-frame\",animate:{x:focusRect.x,y:focusRect.y,width:focusRect.width,height:focusRect.height,opacity:currentIndex>=0?1:0},transition:{duration:animationDuration},style:{\"--border-color\":borderColor,\"--glow-color\":glowColor},children:[/*#__PURE__*/_jsx(\"span\",{className:\"corner top-left\"}),/*#__PURE__*/_jsx(\"span\",{className:\"corner top-right\"}),/*#__PURE__*/_jsx(\"span\",{className:\"corner bottom-left\"}),/*#__PURE__*/_jsx(\"span\",{className:\"corner bottom-right\"})]})]});};export default TrueFocus;","map":{"version":3,"names":["useEffect","useRef","useState","motion","jsx","_jsx","jsxs","_jsxs","TrueFocus","_ref","sentence","manualMode","blurAmount","borderColor","glowColor","animationDuration","pauseBetweenAnimations","words","split","currentIndex","setCurrentIndex","lastActiveIndex","setLastActiveIndex","containerRef","wordRefs","focusRect","setFocusRect","x","y","width","height","interval","setInterval","prev","length","clearInterval","current","parentRect","getBoundingClientRect","activeRect","left","top","handleMouseEnter","index","handleMouseLeave","className","ref","children","map","word","isActive","el","style","filter","transition","onMouseEnter","onMouseLeave","div","animate","opacity","duration"],"sources":["/Users/fernandomoreira/Documents/DevProj/Hub_Fernando.dev/src/components/shared/TrueFocus.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./TrueFocus.css\";\n\nconst TrueFocus = ({\n  sentence = \"True Focus\",\n  manualMode = false,\n  blurAmount = 5,\n  borderColor = \"green\",\n  glowColor = \"rgba(0, 255, 0, 0.6)\",\n  animationDuration = 0.5,\n  pauseBetweenAnimations = 1,\n}) => {\n  const words = sentence.split(\" \");\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [lastActiveIndex, setLastActiveIndex] = useState(null);\n  const containerRef = useRef(null);\n  const wordRefs = useRef([]);\n  const [focusRect, setFocusRect] = useState({ x: 0, y: 0, width: 0, height: 0 });\n\n  useEffect(() => {\n    if (!manualMode) {\n      const interval = setInterval(() => {\n        setCurrentIndex((prev) => (prev + 1) % words.length);\n      }, (animationDuration + pauseBetweenAnimations) * 1000);\n\n      return () => clearInterval(interval);\n    }\n  }, [manualMode, animationDuration, pauseBetweenAnimations, words.length]);\n\n  useEffect(() => {\n    if (currentIndex === null || currentIndex === -1) return;\n\n    if (!wordRefs.current[currentIndex] || !containerRef.current) return;\n\n    const parentRect = containerRef.current.getBoundingClientRect();\n    const activeRect = wordRefs.current[currentIndex].getBoundingClientRect();\n\n    setFocusRect({\n      x: activeRect.left - parentRect.left,\n      y: activeRect.top - parentRect.top,\n      width: activeRect.width,\n      height: activeRect.height,\n    });\n  }, [currentIndex, words.length]);\n\n  const handleMouseEnter = (index) => {\n    if (manualMode) {\n      setLastActiveIndex(index);\n      setCurrentIndex(index);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (manualMode) {\n      setCurrentIndex(lastActiveIndex);\n    }\n  };\n\n  return (\n    <div className=\"focus-container\" ref={containerRef}>\n      {words.map((word, index) => {\n        const isActive = index === currentIndex;\n        return (\n          <span\n            key={index}\n            ref={(el) => (wordRefs.current[index] = el)}\n            className={`focus-word ${manualMode ? \"manual\" : \"\"} ${isActive && !manualMode ? \"active\" : \"\"}`}\n            style={{\n              filter:\n                manualMode\n                  ? isActive\n                    ? `blur(0px)`\n                    : `blur(${blurAmount}px)`\n                  : isActive\n                    ? `blur(0px)`\n                    : `blur(${blurAmount}px)`,\n              \"--border-color\": borderColor,\n              \"--glow-color\": glowColor,\n              transition: `filter ${animationDuration}s ease`,\n            }}\n            onMouseEnter={() => handleMouseEnter(index)}\n            onMouseLeave={handleMouseLeave}\n          >\n            {word}\n          </span>\n        );\n      })}\n\n      <motion.div\n        className=\"focus-frame\"\n        animate={{\n          x: focusRect.x,\n          y: focusRect.y,\n          width: focusRect.width,\n          height: focusRect.height,\n          opacity: currentIndex >= 0 ? 1 : 0,\n        }}\n        transition={{\n          duration: animationDuration,\n        }}\n        style={{\n          \"--border-color\": borderColor,\n          \"--glow-color\": glowColor,\n        }}\n      >\n        <span className=\"corner top-left\"></span>\n        <span className=\"corner top-right\"></span>\n        <span className=\"corner bottom-left\"></span>\n        <span className=\"corner bottom-right\"></span>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default TrueFocus; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}